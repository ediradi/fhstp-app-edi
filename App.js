import React, { useState } from 'react';
import LoginPage from './src/login/LoginPage';
import MainNavigation from './src/MainNavigation';
import { initClient } from './src/GraphService';

// const skipLoginToken =
//   'eyJ0eXAiOiJKV1QiLCJub25jZSI6InliSVIyM0RiQ1dhV3BCSTVOVTRjYXZZRk1fM0MxWHpNcm50R2lfVW9OWTQiLCJhbGciOiJSUzI1NiIsIng1dCI6Im5PbzNaRHJPRFhFSzFqS1doWHNsSFJfS1hFZyIsImtpZCI6Im5PbzNaRHJPRFhFSzFqS1doWHNsSFJfS1hFZyJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTAwMDAtYzAwMC0wMDAwMDAwMDAwMDAiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8wOGQ3MmJmYi05YzZlLTRhODctOGNiNS1lODZlOWEyYzRiODYvIiwiaWF0IjoxNjExMDYxMzM5LCJuYmYiOjE2MTEwNjEzMzksImV4cCI6MTYxMTA2NTIzOSwiYWNjdCI6MCwiYWNyIjoiMSIsImFjcnMiOlsidXJuOnVzZXI6cmVnaXN0ZXJzZWN1cml0eWluZm8iLCJ1cm46bWljcm9zb2Z0OnJlcTEiLCJ1cm46bWljcm9zb2Z0OnJlcTIiLCJ1cm46bWljcm9zb2Z0OnJlcTMiLCJjMSIsImMyIiwiYzMiLCJjNCIsImM1IiwiYzYiLCJjNyIsImM4IiwiYzkiLCJjMTAiLCJjMTEiLCJjMTIiLCJjMTMiLCJjMTQiLCJjMTUiLCJjMTYiLCJjMTciLCJjMTgiLCJjMTkiLCJjMjAiLCJjMjEiLCJjMjIiLCJjMjMiLCJjMjQiLCJjMjUiXSwiYWlvIjoiQVNRQTIvOFNBQUFBeUhEWHdIWHFibmNEZ3RYcDlwdnV0TTVCc214OHZ1NkpBTDU4OXA1K3ZxOD0iLCJhbXIiOlsicHdkIl0sImFwcF9kaXNwbGF5bmFtZSI6ImRlbW8tYXp1cmUtYXBwIiwiYXBwaWQiOiIwZjcwZjE2YS1iOTAyLTRjMmMtOGI4NS05ZmY1OTg5NzYxYjQiLCJhcHBpZGFjciI6IjAiLCJmYW1pbHlfbmFtZSI6IkdyYWRsIiwiZ2l2ZW5fbmFtZSI6IkNocmlzdGlhbiIsImlkdHlwIjoidXNlciIsImlwYWRkciI6IjgwLjExMC4xMTguMTk5IiwibmFtZSI6IkdyYWRsIENocmlzdGlhbiIsIm9pZCI6IjQ1NGE2YzE1LTViZGMtNDMzYi04OGFhLWUwNDZhMzIzZGIxMyIsIm9ucHJlbV9zaWQiOiJTLTEtNS0yMS0zMjE3NjY1NDI1LTQyMDEyNzgxNjItMTMwMzIyNDg5NS0xNzc3NyIsInBsYXRmIjoiNSIsInB1aWQiOiIxMDAzMDAwMDk0M0EyN0E0IiwicmgiOiIwLkFRc0EteXZYQ0c2Y2gwcU10ZWh1bWl4TGhtcnhjQThDdVN4TWk0V2Y5WmlYWWJRTEFOUS4iLCJzY3AiOiJDYWxlbmRhcnMuUmVhZFdyaXRlIENvbnRhY3RzLlJlYWQgTWFpbC5SZWFkIE1haWxib3hTZXR0aW5ncy5SZWFkIG9wZW5pZCBQZW9wbGUuUmVhZCBwcm9maWxlIFVzZXIuUmVhZCBlbWFpbCIsInN1YiI6Im5ON0lTWTVwWWM3cW1wZnBYZG5PS0NaMk16VWdzdDZjUjNkaTFMU1JCcnciLCJ0ZW5hbnRfcmVnaW9uX3Njb3BlIjoiRVUiLCJ0aWQiOiIwOGQ3MmJmYi05YzZlLTRhODctOGNiNS1lODZlOWEyYzRiODYiLCJ1bmlxdWVfbmFtZSI6ImxiZ3JhZGxAZmhzdHAuYWMuYXQiLCJ1cG4iOiJsYmdyYWRsQGZoc3RwLmFjLmF0IiwidXRpIjoiZnJmMFhCODdqVTZxZEpndDhzaUhBQSIsInZlciI6IjEuMCIsInhtc19zdCI6eyJzdWIiOiJqY1UzU0tMZnBtcFQzWU1kclZxbTJ5VTh3QWxOUUZscmdXQ0hJeW5wcWVzIn0sInhtc190Y2R0IjoxMzk0MDE3ODUxfQ.MfwukPwZmPefyHgqYwCqyUMIQmmohx1xgydd6Uqo0pZHmzMC7AHxvEkq9R19V-H-ApAQDxLr4IZp6liXNADdTbOH7HWTUwxMUFnL8qtBcG-_Q8S8s0mG4KCcdeJmQstRaiQilWkIIe35gI-wsWbCCN666UwwmFDLSgJzjqC9bUhYCpHmxSZAo6-zwAGXYqNMX2mksNlfwuldDNaz5WNoolOM9PRKnjc51xDgIIKjszSwwd1kgGTGaI4V7f0TYJAdUCfRLND3QLkcoWa5lfueaDIC5xKFNMGfxDeMJXsJWgokqk0MU3pgMkScvF-D2D16T2-U0Zmvtx9r2rNM_6E8iw';

// initClient(skipLoginToken);

export default function App() {
  const [loginToken, setLogin] = useState();

  if (loginToken) {
    return <MainNavigation />;
  }

  const finishLoginWithToken = token => {
    initClient(token);
    setLogin(token);
  };

  return <LoginPage onLoginSuccess={finishLoginWithToken} />;
}
